<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Awesome Year Progress - Github.io</title>
<style>
  body, html {
    margin:0;
    padding:0;
    height:100%;
    width:100%;
    font-family:'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    color:#fff;
    overflow-x:hidden;
    background:#000;
  }
  /* Full-screen blurred background */
  body::before {
    content:"";
    position:fixed;
    top:0; left:0; right:0; bottom:0;
    z-index:-1;
    background-size:cover;
    background-position:center center;
    filter:blur(15px) brightness(0.5);
  }

  section {
    background: rgba(255,255,255,0.1);
    backdrop-filter: blur(15px);
    -webkit-backdrop-filter: blur(15px);
    border-radius: 20px;
    padding:20px;
    margin:20px auto;
    width:90%;
    max-width:800px;
    box-shadow: 0 0 30px rgba(0,0,0,0.5);
  }

  h1, h2 { text-align:center; margin-bottom:10px; }

  /* Year Progress Bar */
  .progress-wrap { margin-top:20px; position:relative; }
  .bar {
    width:100%;
    height:30px;
    background: rgba(255,255,255,0.1);
    border-radius: 15px;
    overflow:hidden;
    position:relative;
  }
  .fill {
    height:100%;
    background: linear-gradient(90deg,#ff4d4d,#ffcc00);
    width:0%;
    transition: width 0.5s linear;
  }
  #pctText {
    position:absolute;
    top:0; left:0; width:100%; height:100%;
    display:flex;
    align-items:center;
    justify-content:center;
    color:#fff;
    font-weight:bold;
    text-shadow:0 0 5px #000;
  }

  /* Dates display */
  .dates { margin-top:10px; line-height:1.4em; text-align:center; }

  /* Countdown timers */
  .countdown { display:flex; justify-content:space-around; margin-top:20px; flex-wrap:wrap; }
  .countdown div { text-align:center; margin:10px; }
  .countdown span { display:block; font-size:1.5em; font-weight:bold; }

  /* Dropdown Features */
  .features { margin-top:20px; text-align:center; }
  .features button {
    padding:10px 20px;
    font-size:1em;
    border:none;
    border-radius:15px;
    background: rgba(255,255,255,0.2);
    color:#fff;
    cursor:pointer;
    backdrop-filter: blur(10px);
  }
  .features ul {
    list-style:none;
    padding:15px;
    margin:10px 0 0 0;
    display:none;
    text-align:left;
    background: rgba(0,0,0,0.2);
    border-radius:10px;
  }
  .features ul li { margin:5px 0; }

</style>
</head>
<body>

<section>
  <h1>Year Progress</h1>
  <div id="currentTime" style="text-align:center; font-size:1.2em; margin-bottom:10px;"></div>
  <div class="progress-wrap">
    <div class="bar">
      <div class="fill" id="fill"></div>
    </div>
    <div id="pctText">0%</div>
  </div>
  <div class="dates" id="dateDisplay"></div>
</section>

<section>
  <h2>Upcoming Eclipses</h2>
  <div class="countdown">
    <div>
      <div>Total Lunar Eclipse</div>
      <span id="lunarCountdown">Loading...</span>
      <div>March 3, 2026</div>
    </div>
    <div>
      <div>Total Solar Eclipse</div>
      <span id="solarCountdown">Loading...</span>
      <div>August 12, 2026</div>
    </div>
  </div>
</section>

<section class="features">
  <button onclick="toggleFeatures()">Included Features ▼</button>
  <ul id="featuresList">
    <li>Glassy iOS 26 style UI</li>
    <li>Full-screen NASA APOD blurred background</li>
    <li>Year progress bar with current date & time</li>
    <li>Multi-locale today’s date display: English, Arabic, Bangla, Chinese</li>
    <li>Countdown timers for next Total Lunar & Solar eclipses</li>
    <li>Dropdown section for user reference</li>
  </ul>
</section>

<script>
  // Toggle dropdown
  function toggleFeatures() {
    const ul = document.getElementById('featuresList');
    ul.style.display = ul.style.display==='block'?'none':'block';
  }

  // Year progress bar
  function updateProgress() {
    const now = new Date();
    const start = new Date(now.getFullYear(),0,1);
    const end = new Date(now.getFullYear()+1,0,1);
    const pct = ((now-start)/(end-start))*100;
    document.getElementById('fill').style.width = pct.toFixed(2)+'%';
    document.getElementById('pctText').textContent = pct.toFixed(2)+'%';
    document.getElementById('currentTime').textContent = now.toLocaleString();
  }
  setInterval(updateProgress,1000);
  updateProgress();

  // Multi-locale dates
  function updateDates() {
    const now = new Date();
    const locales = { "English":"en-US","Arabic":"ar-SA","Bangla":"bn-BD","Chinese":"zh-CN" };
    const parts = [];
    for(const label in locales){
      parts.push(`${label}: ${now.toLocaleDateString(locales[label], {year:'numeric', month:'long', day:'numeric'})}`);
    }
    document.getElementById('dateDisplay').innerHTML = parts.join('<br>');
  }
  updateDates();
  setInterval(updateDates,60000);

  // Countdown timers
  const lunarDate = new Date("2026-03-03T00:00:00");
  const solarDate = new Date("2026-08-12T00:00:00");
  function updateCountdowns(){
    const now = new Date();
    function formatCountdown(target){
      const diff = target-now;
      if(diff<=0) return "Happening!";
      const d = Math.floor(diff/1000/60/60/24);
      const h = Math.floor(diff/1000/60/60%24);
      const m = Math.floor(diff/1000/60%60);
      const s = Math.floor(diff/1000%60);
      return `${d}d ${h}h ${m}m ${s}s`;
    }
    document.getElementById('lunarCountdown').textContent = formatCountdown(lunarDate);
    document.getElementById('solarCountdown').textContent = formatCountdown(solarDate);
  }
  setInterval(updateCountdowns,1000);
  updateCountdowns();

  // NASA APOD background using safe DEMO_KEY for GitHub Pages
  //const API_KEY = "DEMO_KEY"; // safe for public GitHub Pages
  const API_KEY = "apa8UQCQtgSCxh8rCqzZ6a05vUnnkfLibtejcN3k";
  fetch(`https://api.nasa.gov/planetary/apod?api_key=${API_KEY}`)
    .then(res=>res.json())
    .then(data=>{
      if(data.media_type==="image"){
        document.body.style.backgroundImage = `url('${data.url}')`;
        document.body.style.backgroundSize = 'cover';
        document.body.style.backgroundPosition = 'center center';
      } else {
        console.warn("APOD is not an image today.");
      }
    })
    .catch(e=>console.error("Failed to load NASA APOD:", e));
</script>

</body>
</html>